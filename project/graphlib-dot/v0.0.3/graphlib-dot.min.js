(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var j=typeof require=="function"&&require;if(!h&&j)return j(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,c){var d=self;d.graphlib=a("./index")},{"./index":2}],2:[function(a,b,c){b.exports=a("./lib/dot")},{"./lib/dot":4}],3:[function(a,b,c){b.exports=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function i(a,b,c){var d=a,e=c-a.length;for(var f=0;f<e;f++)d=b+d;return d}function j(a){var b=a.charCodeAt(0),c,d;if(b<=255){c="x";d=2}else{c="u";d=4}return"\\"+c+i(b.toString(16).toUpperCase(),"0",d)}function k(a){if(e<g)return;if(e>g){g=e;h=[]}h.push(a)}function l(){var a,b;b=m();if(b!==null){a=[];while(b!==null){a.push(b);b=m()}}else a=null;return a}function m(){var a,c,d,g,h,i,j,l,m,o,p,q,r,s,t,u;s=e;t=e;a=[];c=N();while(c!==null){a.push(c);c=N()}if(a!==null){u=e;c=J();if(c!==null){d=N();if(d!==null)c=[c,d];else{c=null;e=u}}else{c=null;e=u}c=c!==null?c:"";if(c!==null){d=K();if(d!==null){g=[];h=N();while(h!==null){g.push(h);h=N()}if(g!==null){h=D();h=h!==null?h:"";if(h!==null){i=[];j=N();while(j!==null){i.push(j);j=N()}if(i!==null){if(b.charCodeAt(e)===123){j="{";e++}else{j=null;f===0&&k('"{"')}if(j!==null){l=[];m=N();while(m!==null){l.push(m);m=N()}if(l!==null){m=n();m=m!==null?m:"";if(m!==null){o=[];p=N();while(p!==null){o.push(p);p=N()}if(o!==null){if(b.charCodeAt(e)===125){p="}";e++}else{p=null;f===0&&k('"}"')}if(p!==null){q=[];r=N();while(r!==null){q.push(r);r=N()}if(q!==null)a=[a,c,d,g,h,i,j,l,m,o,p,q];else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}}else{a=null;e=t}a!==null&&(a=function(a,b,c,d){return{type:b,id:c,stmts:d}}(s,a[2],a[4],a[8]));a===null&&(e=s);return a}function n(){var a,c,d,g,h,i,j,l,m,n,p;m=e;n=e;a=o();if(a!==null){c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){if(b.charCodeAt(e)===59){d=";";e++}else{d=null;f===0&&k('";"')}d=d!==null?d:"";if(d!==null){g=[];p=e;h=[];i=N();while(i!==null){h.push(i);i=N()}if(h!==null){i=o();if(i!==null){j=[];l=N();while(l!==null){j.push(l);l=N()}if(j!==null){if(b.charCodeAt(e)===59){l=";";e++}else{l=null;f===0&&k('";"')}l=l!==null?l:"";if(l!==null)h=[h,i,j,l];else{h=null;e=p}}else{h=null;e=p}}else{h=null;e=p}}else{h=null;e=p}while(h!==null){g.push(h);p=e;h=[];i=N();while(i!==null){h.push(i);i=N()}if(h!==null){i=o();if(i!==null){j=[];l=N();while(l!==null){j.push(l);l=N()}if(j!==null){if(b.charCodeAt(e)===59){l=";";e++}else{l=null;f===0&&k('";"')}l=l!==null?l:"";if(l!==null)h=[h,i,j,l];else{h=null;e=p}}else{h=null;e=p}}else{h=null;e=p}}else{h=null;e=p}}if(g!==null)a=[a,c,d,g];else{a=null;e=n}}else{a=null;e=n}}else{a=null;e=n}}else{a=null;e=n}a!==null&&(a=function(a,b,c){var d=[b];for(var e=0;e<c.length;++e)d.push(c[e][1]);return d}(m,a[0],a[3]));a===null&&(e=m);return a}function o(){var a;a=p();if(a===null){a=s();if(a===null){a=t();if(a===null){a=q();a===null&&(a=r())}}}return a}function p(){var a,b,c,d,f;d=e;f=e;a=G();if(a===null){a=E();a===null&&(a=F())}if(a!==null){b=[];c=N();while(c!==null){b.push(c);c=N()}if(b!==null){c=u();if(c!==null)a=[a,b,c];else{a=null;e=f}}else{a=null;e=f}}else{a=null;e=f}a!==null&&(a=function(a,b,c){return{type:"attr",attrType:b,attrs:c||{}}}(d,a[0],a[2]));a===null&&(e=d);return a}function q(){var a,c,d,g,h,i,j;i=e;j=e;a=D();if(a!==null){c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){if(b.charCodeAt(e)===61){d="=";e++}else{d=null;f===0&&k('"="')}if(d!==null){g=[];h=N();while(h!==null){g.push(h);h=N()}if(g!==null){h=D();if(h!==null)a=[a,c,d,g,h];else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b,c){var d={};d[b]=c;return{type:"inlineAttr",attrs:d}}(i,a[0],a[4]));a===null&&(e=i);return a}function r(){var a,b,c,d,f;d=e;f=e;a=A();if(a!==null){b=[];c=N();while(c!==null){b.push(c);c=N()}if(b!==null){c=u();c=c!==null?c:"";if(c!==null)a=[a,b,c];else{a=null;e=f}}else{a=null;e=f}}else{a=null;e=f}a!==null&&(a=function(a,b,c){return{type:"node",id:b,attrs:c||{}}}(d,a[0],a[2]));a===null&&(e=d);return a}function s(){var a,b,c,d,f,g,h;g=e;h=e;a=z();if(a!==null){b=[];c=N();while(c!==null){b.push(c);c=N()}if(b!==null){c=x();if(c!==null){d=[];f=N();while(f!==null){d.push(f);f=N()}if(d!==null){f=u();f=f!==null?f:"";if(f!==null)a=[a,b,c,d,f];else{a=null;e=h}}else{a=null;e=h}}else{a=null;e=h}}else{a=null;e=h}}else{a=null;e=h}a!==null&&(a=function(a,b,c,d){var e=[b];for(var f=0;f<c.length;++f)e.push(c[f]);return{type:"edge",elems:e,attrs:d||{}}}(g,a[0],a[2],a[4]));a===null&&(e=g);return a}function t(){var a,c,d,g,h,i,j,l,m,o;j=e;l=e;m=e;a=I();if(a!==null){c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){o=e;d=D();if(d!==null){g=[];h=N();while(h!==null){g.push(h);h=N()}if(g!==null)d=[d,g];else{d=null;e=o}}else{d=null;e=o}d=d!==null?d:"";if(d!==null)a=[a,c,d];else{a=null;e=m}}else{a=null;e=m}}else{a=null;e=m}a=a!==null?a:"";if(a!==null){if(b.charCodeAt(e)===123){c="{";e++}else{c=null;f===0&&k('"{"')}if(c!==null){d=[];g=N();while(g!==null){d.push(g);g=N()}if(d!==null){g=n();g=g!==null?g:"";if(g!==null){h=[];i=N();while(i!==null){h.push(i);i=N()}if(h!==null){if(b.charCodeAt(e)===125){i="}";e++}else{i=null;f===0&&k('"}"')}if(i!==null)a=[a,c,d,g,h,i];else{a=null;e=l}}else{a=null;e=l}}else{a=null;e=l}}else{a=null;e=l}}else{a=null;e=l}}else{a=null;e=l}a!==null&&(a=function(a,b,c){b=b[2]||[];return{type:"subgraph",id:b[0],stmts:c}}(j,a[0],a[3]));a===null&&(e=j);return a}function u(){var a,b,c,d,f,g,h;f=e;g=e;a=v();if(a!==null){b=[];h=e;c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){d=v();if(d!==null)c=[c,d];else{c=null;e=h}}else{c=null;e=h}while(c!==null){b.push(c);h=e;c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){d=v();if(d!==null)c=[c,d];else{c=null;e=h}}else{c=null;e=h}}if(b!==null)a=[a,b];else{a=null;e=g}}else{a=null;e=g}a!==null&&(a=function(a,b,c){var d=b;for(var e=0;e<c.length;++e)d=R(d,c[e][1]);return d}(f,a[0],a[1]));a===null&&(e=f);return a}function v(){var a,c,d,g,h,i,j;i=e;j=e;if(b.charCodeAt(e)===91){a="[";e++}else{a=null;f===0&&k('"["')}if(a!==null){c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){d=w();d=d!==null?d:"";if(d!==null){g=[];h=N();while(h!==null){g.push(h);h=N()}if(g!==null){if(b.charCodeAt(e)===93){h="]";e++}else{h=null;f===0&&k('"]"')}if(h!==null)a=[a,c,d,g,h];else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b){return b}(i,a[2]));a===null&&(e=i);return a}function w(){var a,c,d,g,h,i,j,l,m;j=e;l=e;a=y();if(a!==null){c=[];m=e;d=[];g=N();while(g!==null){d.push(g);g=N()}if(d!==null){if(b.charCodeAt(e)===44){g=",";e++}else{g=null;f===0&&k('","')}g=g!==null?g:"";if(g!==null){h=[];i=N();while(i!==null){h.push(i);i=N()}if(h!==null){i=y();if(i!==null)d=[d,g,h,i];else{d=null;e=m}}else{d=null;e=m}}else{d=null;e=m}}else{d=null;e=m}while(d!==null){c.push(d);m=e;d=[];g=N();while(g!==null){d.push(g);g=N()}if(d!==null){if(b.charCodeAt(e)===44){g=",";e++}else{g=null;f===0&&k('","')}g=g!==null?g:"";if(g!==null){h=[];i=N();while(i!==null){h.push(i);i=N()}if(h!==null){i=y();if(i!==null)d=[d,g,h,i];else{d=null;e=m}}else{d=null;e=m}}else{d=null;e=m}}else{d=null;e=m}}if(c!==null)a=[a,c];else{a=null;e=l}}else{a=null;e=l}a!==null&&(a=function(a,b,c){var d=b;for(var e=0;e<c.length;++e)d=R(d,c[e][3]);return d}(j,a[0],a[1]));a===null&&(e=j);return a}function x(){var a,c,d,g,h,i,j,l;i=e;j=e;l=e;if(b.substr(e,2)==="--"){a="--";e+=2}else{a=null;f===0&&k('"--"')}if(a!==null){c=function(a){return Q}(e)?null:"";if(c!==null)a=[a,c];else{a=null;e=l}}else{a=null;e=l}if(a===null){l=e;if(b.substr(e,2)==="->"){a="->";e+=2}else{a=null;f===0&&k('"->"')}if(a!==null){c=function(a){return Q}(e)?"":null;if(c!==null)a=[a,c];else{a=null;e=l}}else{a=null;e=l}}if(a!==null){c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){d=z();if(d!==null){g=[];h=N();while(h!==null){g.push(h);h=N()}if(g!==null){h=x();h=h!==null?h:"";if(h!==null)a=[a,c,d,g,h];else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b,c){var d=[b];for(var e=0;e<c.length;++e)d.push(c[e]);return d}(i,a[2],a[4]));a===null&&(e=i);return a}function y(){var a,c,d,g,h,i,j,l;i=e;j=e;a=D();if(a!==null){l=e;c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){if(b.charCodeAt(e)===61){d="=";e++}else{d=null;f===0&&k('"="')}if(d!==null){g=[];h=N();while(h!==null){g.push(h);h=N()}if(g!==null){h=D();if(h!==null)c=[c,d,g,h];else{c=null;e=l}}else{c=null;e=l}}else{c=null;e=l}}else{c=null;e=l}c=c!==null?c:"";if(c!==null)a=[a,c];else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b,c){var d={};d[b]=c[3];return d}(i,a[0],a[1]));a===null&&(e=i);return a}function z(){var a,b;a=t();if(a===null){b=e;a=A();a!==null&&(a=function(a,b){return{type:"node",id:b,attrs:{}}}(b,a));a===null&&(e=b)}return a}function A(){var a,b,c,d,f;d=e;f=e;a=D();if(a!==null){b=[];c=N();while(c!==null){b.push(c);c=N()}if(b!==null){c=B();c=c!==null?c:"";if(c!==null)a=[a,b,c];else{a=null;e=f}}else{a=null;e=f}}else{a=null;e=f}a!==null&&(a=function(a,b){return b}(d,a[0]));a===null&&(e=d);return a}function B(){var a,c,d,g,h,i,j,l,m;l=e;if(b.charCodeAt(e)===58){a=":";e++}else{a=null;f===0&&k('":"')}if(a!==null){c=[];d=N();while(d!==null){c.push(d);d=N()}if(c!==null){d=D();if(d!==null){g=[];h=N();while(h!==null){g.push(h);h=N()}if(g!==null){m=e;if(b.charCodeAt(e)===58){h=":";e++}else{h=null;f===0&&k('":"')}if(h!==null){i=[];j=N();while(j!==null){i.push(j);j=N()}if(i!==null){j=C();if(j!==null)h=[h,i,j];else{h=null;e=m}}else{h=null;e=m}}else{h=null;e=m}h=h!==null?h:"";if(h!==null)a=[a,c,d,g,h];else{a=null;e=l}}else{a=null;e=l}}else{a=null;e=l}}else{a=null;e=l}}else{a=null;e=l}return a}function C(){var a;if(b.charCodeAt(e)===110){a="n";e++}else{a=null;f===0&&k('"n"')}if(a===null){if(b.substr(e,2)==="ne"){a="ne";e+=2}else{a=null;f===0&&k('"ne"')}if(a===null){if(b.charCodeAt(e)===101){a="e";e++}else{a=null;f===0&&k('"e"')}if(a===null){if(b.substr(e,2)==="se"){a="se";e+=2}else{a=null;f===0&&k('"se"')}if(a===null){if(b.charCodeAt(e)===115){a="s";e++}else{a=null;f===0&&k('"s"')}if(a===null){if(b.substr(e,2)==="sw"){a="sw";e+=2}else{a=null;f===0&&k('"sw"')}if(a===null){if(b.charCodeAt(e)===119){a="w";e++}else{a=null;f===0&&k('"w"')}if(a===null){if(b.substr(e,2)==="nw"){a="nw";e+=2}else{a=null;f===0&&k('"nw"')}if(a===null){if(b.charCodeAt(e)===99){a="c";e++}else{a=null;f===0&&k('"c"')}if(a===null)if(b.charCodeAt(e)===95){a="_";e++}else{a=null;f===0&&k('"_"')}}}}}}}}}return a}function D(){var a,c,d,g,h,i,j,l,m;f++;i=e;j=e;if(/^[a-zA-Z\u0200-\u0377_]/.test(b.charAt(e))){a=b.charAt(e);e++}else{a=null;f===0&&k("[a-zA-Z\\u0200-\\u0377_]")}if(a!==null){c=[];if(/^[a-zA-Z\u0200-\u0377_0-9]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k("[a-zA-Z\\u0200-\\u0377_0-9]")}while(d!==null){c.push(d);if(/^[a-zA-Z\u0200-\u0377_0-9]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k("[a-zA-Z\\u0200-\\u0377_0-9]")}}if(c!==null)a=[a,c];else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b,c){return b+c.join("")}(i,a[0],a[1]));a===null&&(e=i);if(a===null){i=e;j=e;if(b.charCodeAt(e)===45){a="-";e++}else{a=null;f===0&&k('"-"')}a=a!==null?a:"";if(a!==null){if(b.charCodeAt(e)===46){c=".";e++}else{c=null;f===0&&k('"."')}if(c!==null){if(/^[0-9]/.test(b.charAt(e))){g=b.charAt(e);e++}else{g=null;f===0&&k("[0-9]")}if(g!==null){d=[];while(g!==null){d.push(g);if(/^[0-9]/.test(b.charAt(e))){g=b.charAt(e);e++}else{g=null;f===0&&k("[0-9]")}}}else d=null;if(d!==null)a=[a,c,d];else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b,c,d){return b+c+d.join("")}(i,a[0],a[1],a[2]));a===null&&(e=i);if(a===null){i=e;j=e;if(b.charCodeAt(e)===45){a="-";e++}else{a=null;f===0&&k('"-"')}a=a!==null?a:"";if(a!==null){if(/^[0-9]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k("[0-9]")}if(d!==null){c=[];while(d!==null){c.push(d);if(/^[0-9]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k("[0-9]")}}}else c=null;if(c!==null){l=e;if(b.charCodeAt(e)===46){d=".";e++}else{d=null;f===0&&k('"."')}if(d!==null){g=[];if(/^[0-9]/.test(b.charAt(e))){h=b.charAt(e);e++}else{h=null;f===0&&k("[0-9]")}while(h!==null){g.push(h);if(/^[0-9]/.test(b.charAt(e))){h=b.charAt(e);e++}else{h=null;f===0&&k("[0-9]")}}if(g!==null)d=[d,g];else{d=null;e=l}}else{d=null;e=l}d=d!==null?d:"";if(d!==null)a=[a,c,d];else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b,c,d){return b+c.join("")+(d[0]||"")+(d[1]||[]).join("")}(i,a[0],a[1],a[2]));a===null&&(e=i);if(a===null){i=e;j=e;if(b.charCodeAt(e)===34){a='"';e++}else{a=null;f===0&&k('"\\""')}if(a!==null){c=[];l=e;if(b.substr(e,2)==='\\"'){d='\\"';e+=2}else{d=null;f===0&&k('"\\\\\\""')}d!==null&&(d=function(a){return'"'}(l));d===null&&(e=l);if(d===null){l=e;m=e;if(b.charCodeAt(e)===92){d="\\";e++}else{d=null;f===0&&k('"\\\\"')}if(d!==null){if(/^[^"]/.test(b.charAt(e))){g=b.charAt(e);e++}else{g=null;f===0&&k('[^"]')}if(g!==null)d=[d,g];else{d=null;e=m}}else{d=null;e=m}d!==null&&(d=function(a,b){return"\\"+b}(l,d[1]));d===null&&(e=l);if(d===null)if(/^[^"]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k('[^"]')}}while(d!==null){c.push(d);l=e;if(b.substr(e,2)==='\\"'){d='\\"';e+=2}else{d=null;f===0&&k('"\\\\\\""')}d!==null&&(d=function(a){return'"'}(l));d===null&&(e=l);if(d===null){l=e;m=e;if(b.charCodeAt(e)===92){d="\\";e++}else{d=null;f===0&&k('"\\\\"')}if(d!==null){if(/^[^"]/.test(b.charAt(e))){g=b.charAt(e);e++}else{g=null;f===0&&k('[^"]')}if(g!==null)d=[d,g];else{d=null;e=m}}else{d=null;e=m}d!==null&&(d=function(a,b){return"\\"+b}(l,d[1]));d===null&&(e=l);if(d===null)if(/^[^"]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k('[^"]')}}}if(c!==null){if(b.charCodeAt(e)===34){d='"';e++}else{d=null;f===0&&k('"\\""')}if(d!==null)a=[a,c,d];else{a=null;e=j}}else{a=null;e=j}}else{a=null;e=j}a!==null&&(a=function(a,b){return b.join("")}(i,a[1]));a===null&&(e=i)}}}f--;f===0&&a===null&&k("identifier");return a}function E(){var a,c;c=e;if(b.substr(e,4).toLowerCase()==="node"){a=b.substr(e,4);e+=4}else{a=null;f===0&&k('"node"')}a!==null&&(a=function(a,b){return b.toLowerCase()}(c,a));a===null&&(e=c);return a}function F(){var a,c;c=e;if(b.substr(e,4).toLowerCase()==="edge"){a=b.substr(e,4);e+=4}else{a=null;f===0&&k('"edge"')}a!==null&&(a=function(a,b){return b.toLowerCase()}(c,a));a===null&&(e=c);return a}function G(){var a,c;c=e;if(b.substr(e,5).toLowerCase()==="graph"){a=b.substr(e,5);e+=5}else{a=null;f===0&&k('"graph"')}a!==null&&(a=function(a,b){return b.toLowerCase()}(c,a));a===null&&(e=c);return a}function H(){var a,c;c=e;if(b.substr(e,7).toLowerCase()==="digraph"){a=b.substr(e,7);e+=7}else{a=null;f===0&&k('"digraph"')}a!==null&&(a=function(a,b){return b.toLowerCase()}(c,a));a===null&&(e=c);return a}function I(){var a,c;c=e;if(b.substr(e,8).toLowerCase()==="subgraph"){a=b.substr(e,8);e+=8}else{a=null;f===0&&k('"subgraph"')}a!==null&&(a=function(a,b){return b.toLowerCase()}(c,a));a===null&&(e=c);return a}function J(){var a,c;c=e;if(b.substr(e,6).toLowerCase()==="strict"){a=b.substr(e,6);e+=6}else{a=null;f===0&&k('"strict"')}a!==null&&(a=function(a,b){return b.toLowerCase()}(c,a));a===null&&(e=c);return a}function K(){var a,b;a=G();if(a===null){b=e;a=H();a!==null&&(a=function(a,b){Q=b==="digraph";return b}(b,a));a===null&&(e=b)}return a}function L(){var a,c;f++;if(/^[ \t\r\n]/.test(b.charAt(e))){c=b.charAt(e);e++}else{c=null;f===0&&k("[ \\t\\r\\n]")}if(c!==null){a=[];while(c!==null){a.push(c);if(/^[ \t\r\n]/.test(b.charAt(e))){c=b.charAt(e);e++}else{c=null;f===0&&k("[ \\t\\r\\n]")}}}else a=null;f--;f===0&&a===null&&k("whitespace");return a}function M(){var a,c,d,g,h,i,j;f++;h=e;if(b.substr(e,2)==="//"){a="//";e+=2}else{a=null;f===0&&k('"//"')}if(a!==null){c=[];if(/^[^\n]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k("[^\\n]")}while(d!==null){c.push(d);if(/^[^\n]/.test(b.charAt(e))){d=b.charAt(e);e++}else{d=null;f===0&&k("[^\\n]")}}if(c!==null)a=[a,c];else{a=null;e=h}}else{a=null;e=h}if(a===null){h=e;if(b.substr(e,2)==="/*"){a="/*";e+=2}else{a=null;f===0&&k('"/*"')}if(a!==null){c=[];i=e;j=e;f++;if(b.substr(e,2)==="*/"){d="*/";e+=2}else{d=null;f===0&&k('"*/"')}f--;if(d===null)d="";else{d=null;e=j}if(d!==null){if(b.length>e){g=b.charAt(e);e++}else{g=null;f===0&&k("any character")}if(g!==null)d=[d,g];else{d=null;e=i}}else{d=null;e=i}while(d!==null){c.push(d);i=e;j=e;f++;if(b.substr(e,2)==="*/"){d="*/";e+=2}else{d=null;f===0&&k('"*/"')}f--;if(d===null)d="";else{d=null;e=j}if(d!==null){if(b.length>e){g=b.charAt(e);e++}else{g=null;f===0&&k("any character")}if(g!==null)d=[d,g];else{d=null;e=i}}else{d=null;e=i}}if(c!==null){if(b.substr(e,2)==="*/"){d="*/";e+=2}else{d=null;f===0&&k('"*/"')}if(d!==null)a=[a,c,d];else{a=null;e=h}}else{a=null;e=h}}else{a=null;e=h}}f--;f===0&&a===null&&k("comment");return a}function N(){var a;a=L();a===null&&(a=M());return a}function O(a){a.sort();var b=null,c=[];for(var d=0;d<a.length;d++)if(a[d]!==b){c.push(a[d]);b=a[d]}return c}function P(){var a=1,c=1,d=!1;for(var f=0;f<Math.max(e,g);f++){var h=b.charAt(f);if(h==="\n"){d||a++;c=1;d=!1}else if(h==="\r"||h==="\u2028"||h==="\u2029"){a++;c=1;d=!0}else{c++;d=!1}}return{line:a,column:c}}function R(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}var d={start:l,graphStmt:m,stmtList:n,stmt:o,attrStmt:p,inlineAttrStmt:q,nodeStmt:r,edgeStmt:s,subgraphStmt:t,attrList:u,attrListBlock:v,aList:w,edgeRHS:x,idDef:y,nodeIdOrSubgraph:z,nodeId:A,port:B,compassPt:C,id:D,node:E,edge:F,graph:G,digraph:H,subgraph:I,strict:J,graphType:K,whitespace:L,comment:M,_:N};if(c!==undefined){if(d[c]===undefined)throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var e=0,f=0,g=0,h=[],Q,S=d[c]();if(S===null||e!==b.length){var T=Math.max(e,g),U=T<b.length?b.charAt(T):null,V=P();throw new this.SyntaxError(O(h),U,T,V.line,V.column)}return S},toSource:function(){return this._source}};b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}e=c?a(c):"end of input";return"Expected "+d+" but "+e+" found."}this.name="SyntaxError";this.expected=b;this.found=c;this.message=g(b,c);this.offset=d;this.line=e;this.column=f};b.SyntaxError.prototype=Error.prototype;return b}()},{}],4:[function(a,b,c){var d=a("./parse"),e=a("./write");c.parse=c.decode=d;c.parseMany=d.parseMany;c.write=c.encode=e;c.type="dot";c.buffer=!1},{"./parse":5,"./write":7}],5:[function(a,b,c){function g(a){return h(a)[0]}function h(a){var b=f.parse(a);return b.map(function(a){return i(a)})}function i(a){function f(a,c){if(!b.hasNode(a)){b.addNode(a,j.get("node",{id:a}));b.node(a).label===undefined&&(b.node(a).label=a)}c&&d.mergeAttributes(c,b.node(a))}function h(a,c,e){var f=a+"-"+c,h=g[f];h||(h=g[f]=0);g[f]++;var i=e.id||f+"-"+h,k={};d.mergeAttributes(j.get("edge",e),k);d.mergeAttributes({id:i},k);b.addEdge(i,a,c,k)}function i(a){function e(a){c.push(a)}var b={},c=[],d;e(a);while(c.length!==0){d=c.pop();switch(d.type){case"node":b[d.id]=!0;break;case"edge":d.elems.forEach(e);break;case"subgraph":d.stmts.forEach(e)}}return Object.keys(b)}function k(a){var b=a.attrs;switch(a.type){case"node":f(a.id,b);break;case"edge":var d,e;a.elems.forEach(function(a){k(a);switch(a.type){case"node":e=[a.id];break;case"subgraph":e=i(a);break;default:throw new Error("Unsupported type incident on edge: "+a.type)}d&&d.forEach(function(a){e.forEach(function(d){h(a,d,b);c&&h(d,a,b)})});d=e});break;case"subgraph":j.enterSubDigraph();a.stmts&&a.stmts.forEach(function(a){k(a)});j.exitSubDigraph();break;case"attr":j.set(a.attrType,b);break;default:throw new Error("Unsupported statement type: "+a.type)}}var b=new e,c=a.type==="graph";b.type=a.type;var g={},j={_default:{},get:function(b,c){if(typeof this._default[b]!="undefined"){var e={};d.mergeAttributes(this._default[b],e);d.mergeAttributes(c,e);return e}return c},set:function(b,c){this._default[b]=this.get(b,c)},enterSubDigraph:function(){function a(){}a.prototype=this._default;var b=new a;this._default=b},exitSubDigraph:function(){this._default=Object.getPrototypeOf(this._default)}};a.stmts&&a.stmts.forEach(function(a){k(a)});return b}var d=a("./util"),e=a("graphlib").Digraph,f=a("./dot-grammar");b.exports=g;b.exports.parseMany=h;c.toObjects=function(a){var b=c.toDigraph(a),d=b.nodes().map(function(a){return b.node(a)}),e=b.edges().map(function(a){var c=b.edge(a);c.source=b.node(b.source(a));c.target=b.node(b.target(a));return c});return{nodes:d,edges:e}}},{"./dot-grammar":3,"./util":6,graphlib:8}],6:[function(a,b,c){c.mergeAttributes=function(a,b){Object.keys(a).forEach(function(c){b[c]=a[c]})};c.min=function(a){return Math.min.apply(null,a)};c.max=function(a){return Math.max.apply(null,a)};c.all=function(a,b){for(var c=0;c<a.length;++c)if(!b(a[c]))return!1;return!0};c.sum=function(a){return a.reduce(function(a,b){return a+b},0)};c.concat=function(a){return Array.prototype.concat.apply([],a)};c.values=function(a){return Object.keys(a).map(function(b){return a[b]})};c.union=function(a){var b={};for(var c=0;c<a.length;++c){var d=a[c];for(var e=0;e<d.length;++e){var f=d[e];b[f]=f}}var g=[];for(var h in b)g.push(b[h]);return g};c.intersectRect=function(a,b){var c=a.x,d=a.y,e=b.x-c,f=b.y-d,g=a.width/2,h=a.height/2,i,j;if(Math.abs(f)*g>Math.abs(e)*h){f<0&&(h=-h);i=f===0?0:h*e/f;j=h}else{e<0&&(g=-g);i=g;j=e===0?0:g*f/e}return{x:c+i,y:d+j}};c.pointStr=function(a){return a.x+","+a.y};c.createTimer=function(a){var b={};a=a||!1;b.enabled=function(c){if(!arguments.length)return a;a=c;return b};b.wrap=function(b,c){return function(){var d=a?(new Date).getTime():null;try{return c.apply(null,arguments)}finally{d&&console.log(b+" time: "+((new Date).getTime()-d)+"ms")}}};return b};c.propertyAccessor=function(a,b,c,d){return function(e){if(!arguments.length)return b[c];b[c]=e;d&&d(e);return a}}},{}],7:[function(a,b,c){function d(a){var b=a.type=="digraph"?"->":"--",c=(a.type||"digraph")+" {\n";a.nodes().forEach(function(b){c+=g(b,a.node(b))});a.eachEdge(function(a,d,e,f){c+=h(a,b,d,e,f)});c+="}\n";return c}function e(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}function f(a){return Object.prototype.toString.call(a)==="[object Object]"||Object.prototype.toString.call(a)==="[object Array]"?e(JSON.stringify(a)):e(a)}function g(a,b){var c=e(a),d="    "+e(a),g=!1;for(var h in b)if((h=="label"||h=="id")&&e(b[h])!=c){if(!g){d+=" [";g=!0}else d+=",";d+=e(h)+"="+f(b[h])}g&&(d+="]");d+="\n";return d}function h(a,b,c,d,g){var h=e(a),i="    "+e(c)+" "+b+" "+e(d),j=!1;for(var k in g){if(!j){i+=" [";j=!0}else i+=",";i+=e(k)+"="+f(g[k])}j&&(i+="]");i+="\n";return i}b.exports=d},{}],8:[function(a,b,c){c.Digraph=a("./lib/Digraph");c.alg={isAcyclic:a("./lib/alg/isAcyclic"),findCycles:a("./lib/alg/findCycles"),tarjan:a("./lib/alg/tarjan"),topsort:a("./lib/alg/topsort")};c.data={PriorityQueue:a("./lib/data/PriorityQueue")};c.version=a("./lib/version")},{"./lib/Digraph":9,"./lib/alg/findCycles":10,"./lib/alg/isAcyclic":11,"./lib/alg/tarjan":12,"./lib/alg/topsort":13,"./lib/data/PriorityQueue":14,"./lib/version":16}],9:[function(a,b,c){function e(){this._value=undefined;this._nodes={};this._inEdges={};this._outEdges={};this._edges={};this._nextEdgeId=0}function f(a,b,c){var d=a[b];d||(d=a[b]={count:0,edges:{}});d.count++;d.edges[c]=!0}function g(a,b,c){var d=a[b];--d.count===0?delete a[b]:delete d.edges[c]}var d=a("./util");b.exports=e;e.prototype.subgraph=function(a){var b=new e,c=this;a.forEach(function(a){b.addNode(a,c.node(a))});d.values(this._edges).forEach(function(a){b.hasNode(a.source)&&b.hasNode(a.target)&&b.addEdge(a.id,a.source,a.target,c.edge(a.id))});return b};e.prototype.order=function(){return Object.keys(this._nodes).length};e.prototype.size=function(){return Object.keys(this._edges).length};e.prototype.graph=function(a){if(arguments.length===0)return this._value;this._value=a};e.prototype.hasNode=function(a){return a in this._nodes};e.prototype.node=function(a,b){var c=this._strictGetNode(a);if(arguments.length===1)return c.value;c.value=b};e.prototype.nodes=function(){var a=[];this.eachNode(function(b,c){a.push(b)});return a};e.prototype.eachNode=function(a){for(var b in this._nodes){var c=this._nodes[b];a(c.id,c.value)}};e.prototype.successors=function(a){this._strictGetNode(a);return Object.keys(this._outEdges[a]).map(function(a){return this._nodes[a].id},this)};e.prototype.predecessors=function(a){this._strictGetNode(a);return Object.keys(this._inEdges[a]).map(function(a){return this._nodes[a].id},this)};e.prototype.neighbors=function(a){this._strictGetNode(a);var b={};Object.keys(this._outEdges[a]).map(function(a){b[a]=!0});Object.keys(this._inEdges[a]).map(function(a){b[a]=!0});return Object.keys(b).map(function(a){return this._nodes[a].id},this)};e.prototype.sources=function(){var a=this;return this._filterNodes(function(b){return a.inEdges(b).length===0})};e.prototype.sinks=function(){var a=this;return this._filterNodes(function(b){return a.outEdges(b).length===0})};e.prototype.hasEdge=function(a){return a in this._edges};e.prototype.edge=function(a,b){var c=this._strictGetEdge(a);if(arguments.length===1)return c.value;c.value=b};e.prototype.edges=function(a){if(arguments.length===1)throw new Error("Digraph.edges() cannot be called with 1 argument. Use Digraph.incidentEdges() instead.");if(arguments.length>1)throw new Error("Digraph.edges() cannot be called with more than 1 argument. Use Digraph.outEdges() instead.");var b=[];this.eachEdge(function(a){b.push(a)});return b};e.prototype.eachEdge=function(a){for(var b in this._edges){var c=this._edges[b];a(c.id,c.source,c.target,c.value)}};e.prototype.source=function(a){return this._strictGetEdge(a).source};e.prototype.target=function(a){return this._strictGetEdge(a).target};e.prototype.inEdges=function(a,b){this._strictGetNode(a);var c=d.concat(d.values(this._inEdges[a]).map(function(a){return Object.keys(a.edges)},this));if(arguments.length>1){this._strictGetNode(b);c=c.filter(function(a){return this.source(a)===b},this)}return c};e.prototype.outEdges=function(a,b){this._strictGetNode(a);var c=d.concat(d.values(this._outEdges[a]).map(function(a){return Object.keys(a.edges)},this));if(arguments.length>1){this._strictGetNode(b);c=c.filter(function(a){return this.target(a)===b},this)}return c};e.prototype.incidentEdges=function(a,b){return arguments.length>1?d.mergeKeys([this.outEdges(a,b),this.outEdges(b,a)]):d.mergeKeys([this.inEdges(a),this.outEdges(a)])};e.prototype.equals=function(a){var b=this;return b.order()===a.order()&&b.size()===a.size()&&d.all(b.nodes(),function(c){return a.hasNode(c)&&b.node(c)===a.node(c)})&&d.all(b.edges(),function(c){return a.hasEdge(c)&&b.edge(c)===a.edge(c)})};e.prototype.toString=function(){var a=this,b="GRAPH: "+JSON.stringify(a._value)+"\n";b+="    Nodes:\n";Object.keys(this._nodes).forEach(function(c){b+="        "+c+": "+JSON.stringify(a._nodes[c].value)+"\n"});b+="    Edges:\n";Object.keys(this._edges).forEach(function(c){var d=a._edges[c];b+="        "+c+" ("+d.source+" -> "+d.target+"): "+JSON.stringify(a._edges[c].value)+"\n"});return b};e.prototype.addNode=function(a,b){if(this.hasNode(a))throw new Error("Graph already has node '"+a+"':\n"+this.toString());this._nodes[a]={id:a,value:b};this._inEdges[a]={};this._outEdges[a]={}};e.prototype.delNode=function(a){this._strictGetNode(a);var b=this;this.incidentEdges(a).forEach(function(a){b.delEdge(a)});delete this._inEdges[a];delete this._outEdges[a];delete this._nodes[a]};e.prototype.addEdge=function(a,b,c,d){this._strictGetNode(b);this._strictGetNode(c);if(a===null)a="_ANON-"+ ++this._nextEdgeId;else if(this.hasEdge(a))throw new Error("Graph already has edge '"+a+"':\n"+this.toString());this._edges[a]={id:a,source:b,target:c,value:d};f(this._inEdges[c],b,a);f(this._outEdges[b],c,a)};e.prototype.delEdge=function(a){var b=this._strictGetEdge(a);g(this._inEdges[b.target],b.source,a);g(this._outEdges[b.source],b.target,a);delete this._edges[a]};e.prototype._strictGetNode=function(a){var b=this._nodes[a];if(b===undefined)throw new Error("Node '"+a+"' is not in graph:\n"+this.toString());return b};e.prototype._strictGetEdge=function(a){var b=this._edges[a];if(b===undefined)throw new Error("Edge '"+a+"' is not in graph:\n"+this.toString());return b};e.prototype._filterNodes=function(a){var b=[];this.eachNode(function(c,d){a(c)&&b.push(c)});return b}},{"./util":15}],10:[function(a,b,c){function e(a){return d(a).filter(function(a){return a.length>1})}var d=a("./tarjan");b.exports=e},{"./tarjan":12}],11:[function(a,b,c){function e(a){try{d(a)}catch(b){if(b instanceof d.CycleException)return!1;throw b}return!0}var d=a("./topsort");b.exports=e},{"./topsort":13}],12:[function(a,b,c){function d(a){function e(f){var h=d[f]={onStack:!0,lowlink:b,index:b++};c.push(f);a.successors(f).forEach(function(a){if(a in d)d[a].onStack&&(h.lowlink=Math.min(h.lowlink,d[a].index));else{e(a);h.lowlink=Math.min(h.lowlink,d[a].lowlink)}});if(h.lowlink===h.index){var i=[],j;do{j=c.pop();d[j].onStack=!1;i.push(j)}while(f!==j);results.push(i)}}var b=0,c=[],d={};results=[];a.nodes().forEach(function(a){a in d||e(a)});return results}b.exports=d},{}],13:[function(a,b,c){function d(a){function f(g){if(g in c)throw new e;if(!(g in b)){c[g]=!0;b[g]=!0;a.predecessors(g).forEach(function(a){f(a)});delete c[g];d.push(g)}}var b={},c={},d=[],g=a.sinks();if(a.order()!==0&&g.length===0)throw new e;a.sinks().forEach(function(a){f(a)});return d}function e(){}b.exports=d;d.CycleException=e;e.prototype.toString=function(){return"Graph has at least one cycle"}},{}],14:[function(a,b,c){function d(){this._arr=[];this._keyIndices={}}b.exports=d;d.prototype.size=function(){return this._arr.length};d.prototype.keys=function(){return this._arr.map(function(a){return a.key})};d.prototype.has=function(a){return a in this._keyIndices};d.prototype.priority=function(a){var b=this._keyIndices[a];if(b!==undefined)return this._arr[b].priority};d.prototype.min=function(a){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};d.prototype.add=function(a,b){if(a in this._keyIndices)return!1;var c={key:a,priority:b},d=this._arr.length;this._keyIndices[a]=d;this._arr.push(c);this._decrease(d);return!0};d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();delete this._keyIndices[a.key];this._heapify(0);return a.key};d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b;this._decrease(c)};d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;if(c<b.length){e=b[c].priority<b[e].priority?c:e;d<b.length&&(e=b[d].priority<b[e].priority?d:e);if(e!==a){this._swap(a,e);this._heapify(e)}}};d.prototype._decrease=function(a){var b=this._arr,c=b[a].priority,d;while(a>0){d=a>>1;if(b[d].priority<c)break;this._swap(a,d);a=d}};d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a];c[a]=c[b];c[b]=e;d[c[a].key]=a;d[c[b].key]=b}},{}],15:[function(a,b,c){c.all=function(a,b){for(var c=0;c<a.length;++c)if(!b(a[c]))return!1;return!0};c.values=function(a){return Object.keys(a).map(function(b){return a[b]})};c.concat=function(a){return Array.prototype.concat.apply([],a)};c.mergeKeys=function(a){var b={};a.forEach(function(a){a.forEach(function(a){b[a]=a})});return c.values(b)}},{}],16:[function(a,b,c){b.exports="0.1.0"},{}]},{},[1]);