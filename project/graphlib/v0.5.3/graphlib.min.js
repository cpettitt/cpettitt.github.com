(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var j=typeof require=="function"&&require;if(!h&&j)return j(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,c){var d=self;d.graphlib=a("./index")},{"./index":2}],2:[function(a,b,c){c.Graph=a("./lib/Graph");c.Digraph=a("./lib/Digraph");c.CGraph=a("./lib/CGraph");c.CDigraph=a("./lib/CDigraph");a("./lib/graph-converters");c.alg={isAcyclic:a("./lib/alg/isAcyclic"),components:a("./lib/alg/components"),dijkstra:a("./lib/alg/dijkstra"),dijkstraAll:a("./lib/alg/dijkstraAll"),findCycles:a("./lib/alg/findCycles"),floydWarshall:a("./lib/alg/floydWarshall"),prim:a("./lib/alg/prim"),tarjan:a("./lib/alg/tarjan"),topsort:a("./lib/alg/topsort")};c.data={PriorityQueue:a("./lib/data/PriorityQueue"),Set:a("./lib/data/Set")};var d=a("./lib/filter");c.filter={all:d.all,nodesFromList:d.nodesFromList};c.version=a("./lib/version")},{"./lib/CDigraph":4,"./lib/CGraph":5,"./lib/Digraph":6,"./lib/Graph":7,"./lib/alg/components":8,"./lib/alg/dijkstra":9,"./lib/alg/dijkstraAll":10,"./lib/alg/findCycles":11,"./lib/alg/floydWarshall":12,"./lib/alg/isAcyclic":13,"./lib/alg/prim":14,"./lib/alg/tarjan":15,"./lib/alg/topsort":16,"./lib/data/PriorityQueue":18,"./lib/data/Set":19,"./lib/filter":20,"./lib/graph-converters":21,"./lib/version":23}],3:[function(a,b,c){function f(){this._value=undefined;this._nodes={};this._edges={};this._nextId=0}function g(a,b,c){(a[b]||(a[b]=new e)).add(c)}function h(a,b,c){var d=a[b];d.remove(c);d.size()===0&&delete a[b]}var d=a("./filter"),e=a("./data/Set");b.exports=f;f.prototype.order=function(){return Object.keys(this._nodes).length};f.prototype.size=function(){return Object.keys(this._edges).length};f.prototype.graph=function(a){if(arguments.length===0)return this._value;this._value=a};f.prototype.hasNode=function(a){return a in this._nodes};f.prototype.node=function(a,b){var c=this._strictGetNode(a);if(arguments.length===1)return c.value;c.value=b};f.prototype.nodes=function(){var a=[];this.eachNode(function(b){a.push(b)});return a};f.prototype.eachNode=function(a){for(var b in this._nodes){var c=this._nodes[b];a(c.id,c.value)}};f.prototype.hasEdge=function(a){return a in this._edges};f.prototype.edge=function(a,b){var c=this._strictGetEdge(a);if(arguments.length===1)return c.value;c.value=b};f.prototype.edges=function(){var a=[];this.eachEdge(function(b){a.push(b)});return a};f.prototype.eachEdge=function(a){for(var b in this._edges){var c=this._edges[b];a(c.id,c.u,c.v,c.value)}};f.prototype.incidentNodes=function(a){var b=this._strictGetEdge(a);return[b.u,b.v]};f.prototype.addNode=function(a,b){if(a===undefined||a===null){do a="_"+ ++this._nextId;while(this.hasNode(a))}else if(this.hasNode(a))throw new Error("Graph already has node '"+a+"':\n"+this.toString());this._nodes[a]={id:a,value:b};return a};f.prototype.delNode=function(a){this._strictGetNode(a);this.incidentEdges(a).forEach(function(a){this.delEdge(a)},this);delete this._nodes[a]};f.prototype._addEdge=function(a,b,c,d,e,f){this._strictGetNode(b);this._strictGetNode(c);if(a===undefined||a===null){do a="_"+ ++this._nextId;while(this.hasEdge(a))}else if(this.hasEdge(a))throw new Error("Graph already has edge '"+a+"':\n"+this.toString());this._edges[a]={id:a,u:b,v:c,value:d};g(e[c],b,a);g(f[b],c,a);return a};f.prototype._delEdge=function(a,b,c){var d=this._strictGetEdge(a);h(b[d.v],d.u,a);h(c[d.u],d.v,a);delete this._edges[a]};f.prototype.copy=function(){return this.filterNodes(d.all)};f.prototype.filterNodes=function(a){var b=new this.constructor;this.eachNode(function(c,d){a(c,d)&&b.addNode(c,d)});this.eachEdge(function(a,c,d,e){b.hasNode(c)&&b.hasNode(d)&&b.addEdge(a,c,d,e)});return b};f.prototype._strictGetNode=function(a){var b=this._nodes[a];if(b===undefined)throw new Error("Node '"+a+"' is not in graph:\n"+this.toString());return b};f.prototype._strictGetEdge=function(a){var b=this._edges[a];if(b===undefined)throw new Error("Edge '"+a+"' is not in graph:\n"+this.toString());return b}},{"./data/Set":19,"./filter":20}],4:[function(a,b,c){var d=a("./Digraph"),e=a("./compoundify"),f=e(d);b.exports=f;f.fromDigraph=function(a){var b=new f,c=a.graph();c!==undefined&&b.graph(c);a.eachNode(function(a,c){c===undefined?b.addNode(a):b.addNode(a,c)});a.eachEdge(function(a,c,d,e){e===undefined?b.addEdge(null,c,d):b.addEdge(null,c,d,e)});return b}},{"./Digraph":6,"./compoundify":17}],5:[function(a,b,c){var d=a("./Graph"),e=a("./compoundify"),f=e(d);b.exports=f;f.fromGraph=function(a){var b=new f,c=a.graph();c!==undefined&&b.graph(c);a.eachNode(function(a,c){c===undefined?b.addNode(a):b.addNode(a,c)});a.eachEdge(function(a,c,d,e){e===undefined?b.addEdge(null,c,d):b.addEdge(null,c,d,e)});return b}},{"./Graph":7,"./compoundify":17}],6:[function(a,b,c){function g(){e.call(this);this._inEdges={};this._outEdges={}}var d=a("./util"),e=a("./BaseGraph"),f=a("./data/Set");b.exports=g;g.prototype=new e;g.prototype.constructor=g;g.prototype.isDirected=function(){return!0};g.prototype.successors=function(a){this._strictGetNode(a);return Object.keys(this._outEdges[a]).map(function(a){return this._nodes[a].id},this)};g.prototype.predecessors=function(a){this._strictGetNode(a);return Object.keys(this._inEdges[a]).map(function(a){return this._nodes[a].id},this)};g.prototype.neighbors=function(a){return f.unionAll([this.successors(a),this.predecessors(a)]).keys()};g.prototype.sources=function(){var a=this;return this._filterNodes(function(b){return a.inEdges(b).length===0})};g.prototype.sinks=function(){var a=this;return this._filterNodes(function(b){return a.outEdges(b).length===0})};g.prototype.source=function(a){return this._strictGetEdge(a).u};g.prototype.target=function(a){return this._strictGetEdge(a).v};g.prototype.inEdges=function(a,b){this._strictGetNode(a);var c=f.unionAll(d.values(this._inEdges[a])).keys();if(arguments.length>1){this._strictGetNode(b);c=c.filter(function(a){return this.source(a)===b},this)}return c};g.prototype.outEdges=function(a,b){this._strictGetNode(a);var c=f.unionAll(d.values(this._outEdges[a])).keys();if(arguments.length>1){this._strictGetNode(b);c=c.filter(function(a){return this.target(a)===b},this)}return c};g.prototype.incidentEdges=function(a,b){return arguments.length>1?f.unionAll([this.outEdges(a,b),this.outEdges(b,a)]).keys():f.unionAll([this.inEdges(a),this.outEdges(a)]).keys()};g.prototype.toString=function(){return"Digraph "+JSON.stringify(this,null,2)};g.prototype.addNode=function(a,b){a=e.prototype.addNode.call(this,a,b);this._inEdges[a]={};this._outEdges[a]={};return a};g.prototype.delNode=function(a){e.prototype.delNode.call(this,a);delete this._inEdges[a];delete this._outEdges[a]};g.prototype.addEdge=function(a,b,c,d){return e.prototype._addEdge.call(this,a,b,c,d,this._inEdges,this._outEdges)};g.prototype.delEdge=function(a){e.prototype._delEdge.call(this,a,this._inEdges,this._outEdges)};g.prototype._filterNodes=function(a){var b=[];this.eachNode(function(c){a(c)&&b.push(c)});return b}},{"./BaseGraph":3,"./data/Set":19,"./util":22}],7:[function(a,b,c){function g(){e.call(this);this._incidentEdges={}}var d=a("./util"),e=a("./BaseGraph"),f=a("./data/Set");b.exports=g;g.prototype=new e;g.prototype.constructor=g;g.prototype.isDirected=function(){return!1};g.prototype.neighbors=function(a){this._strictGetNode(a);return Object.keys(this._incidentEdges[a]).map(function(a){return this._nodes[a].id},this)};g.prototype.incidentEdges=function(a,b){this._strictGetNode(a);if(arguments.length>1){this._strictGetNode(b);return b in this._incidentEdges[a]?this._incidentEdges[a][b].keys():[]}return f.unionAll(d.values(this._incidentEdges[a])).keys()};g.prototype.toString=function(){return"Graph "+JSON.stringify(this,null,2)};g.prototype.addNode=function(a,b){a=e.prototype.addNode.call(this,a,b);this._incidentEdges[a]={};return a};g.prototype.delNode=function(a){e.prototype.delNode.call(this,a);delete this._incidentEdges[a]};g.prototype.addEdge=function(a,b,c,d){return e.prototype._addEdge.call(this,a,b,c,d,this._incidentEdges,this._incidentEdges)};g.prototype.delEdge=function(a){e.prototype._delEdge.call(this,a,this._incidentEdges,this._incidentEdges)}},{"./BaseGraph":3,"./data/Set":19,"./util":22}],8:[function(a,b,c){function e(a){function e(b,d){if(!c.has(b)){c.add(b);d.push(b);a.neighbors(b).forEach(function(a){e(a,d)})}}var b=[],c=new d;a.nodes().forEach(function(a){var c=[];e(a,c);c.length>0&&b.push(c)});return b}var d=a("../data/Set");b.exports=e},{"../data/Set":19}],9:[function(a,b,c){function f(a,b,c,f){var g={},h=new d;c=c||function(){return 1};f=f||(a instanceof e?function(b){return a.outEdges(b)}:function(b){return a.incidentEdges(b)});a.nodes().forEach(function(a){var c=a===b?0:Number.POSITIVE_INFINITY;g[a]={distance:c};h.add(a,c)});var i,j;while(h.size()>0){i=h.removeMin();j=g[i];if(j.distance===Number.POSITIVE_INFINITY)break;f(i).forEach(function(b){var d=a.incidentNodes(b),e=d[0]!==i?d[0]:d[1],f=g[e],k=c(b),l=j.distance+k;if(k<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+k);if(l<f.distance){f.distance=l;f.predecessor=i;h.decrease(e,l)}})}return g}var d=a("../data/PriorityQueue"),e=a("../Digraph");b.exports=f},{"../Digraph":6,"../data/PriorityQueue":18}],10:[function(a,b,c){function e(a,b,c){var e={};a.nodes().forEach(function(f){e[f]=d(a,f,b,c)});return e}var d=a("./dijkstra");b.exports=e},{"./dijkstra":9}],11:[function(a,b,c){function e(a){return d(a).filter(function(a){return a.length>1})}var d=a("./tarjan");b.exports=e},{"./tarjan":15}],12:[function(a,b,c){function e(a,b,c){var e={},f=a.nodes();b=b||function(){return 1};c=c||(a instanceof d?function(b){return a.outEdges(b)}:function(b){return a.incidentEdges(b)});f.forEach(function(d){e[d]={};e[d][d]={distance:0};f.forEach(function(a){d!==a&&(e[d][a]={distance:Number.POSITIVE_INFINITY})});c(d).forEach(function(c){var f=a.incidentNodes(c),h=f[0]!==d?f[0]:f[1],i=b(c);i<e[d][h].distance&&(e[d][h]={distance:i,predecessor:d})})});f.forEach(function(a){var b=e[a];f.forEach(function(c){var d=e[c];f.forEach(function(c){var e=d[a],f=b[c],g=d[c],h=e.distance+f.distance;if(h<g.distance){g.distance=h;g.predecessor=f.predecessor}})})});return e}var d=a("../Digraph");b.exports=e},{"../Digraph":6}],13:[function(a,b,c){function e(a){try{d(a)}catch(b){if(b instanceof d.CycleException)return!1;throw b}return!0}var d=a("./topsort");b.exports=e},{"./topsort":16}],14:[function(a,b,c){function f(a,b){var c=new d,f={},g=new e;if(a.order()===0)return c;a.eachNode(function(a){g.add(a,Number.POSITIVE_INFINITY);c.addNode(a)});g.decrease(a.nodes()[0],0);var h=!1;while(g.size()>0){var i=g.removeMin();if(i in f)c.addEdge(null,i,f[i]);else{if(h)throw new Error("Input graph is not connected: "+a);h=!0}a.incidentEdges(i).forEach(function(c){var d=a.incidentNodes(c),e=d[0]!==i?d[0]:d[1],h=g.priority(e);if(h!==undefined){var j=b(c);if(j<h){f[e]=i;g.decrease(e,j)}}})}return c}var d=a("../Graph"),e=a("../data/PriorityQueue");b.exports=f},{"../Graph":7,"../data/PriorityQueue":18}],15:[function(a,b,c){function e(a){function g(d){var h=e[d]={onStack:!0,lowlink:b,index:b++};c.push(d);a.successors(d).forEach(function(a){if(a in e)e[a].onStack&&(h.lowlink=Math.min(h.lowlink,e[a].index));else{g(a);h.lowlink=Math.min(h.lowlink,e[a].lowlink)}});if(h.lowlink===h.index){var i=[],j;do{j=c.pop();e[j].onStack=!1;i.push(j)}while(d!==j);f.push(i)}}if(a instanceof d){var b=0,c=[],e={},f=[];a.nodes().forEach(function(a){a in e||g(a)});return f}throw new Error("tarjan can only be applied to a Digraph. Bad input: "+a)}var d=a("../Digraph");b.exports=e},{"../Digraph":6}],16:[function(a,b,c){function e(a){function g(d){if(d in c)throw new f;if(!(d in b)){c[d]=!0;b[d]=!0;a.predecessors(d).forEach(function(a){g(a)});delete c[d];e.push(d)}}if(a instanceof d){var b={},c={},e=[],h=a.sinks();if(a.order()!==0&&h.length===0)throw new f;a.sinks().forEach(function(a){g(a)});return e}throw new Error("topsort can only be applied to a Digraph. Bad input: "+a)}function f(){}var d=a("../Digraph");b.exports=e;e.CycleException=f;f.prototype.toString=function(){return"Graph has at least one cycle"}},{"../Digraph":6}],17:[function(a,b,c){function e(a){function b(){a.call(this);this._parents={};this._children={"null":new d}}b.prototype=new a;b.prototype.constructor=b;b.prototype.parent=function(a,b){this._strictGetNode(a);if(arguments.length<2)return this._parents[a];if(a===b)throw new Error("Cannot make "+a+" a parent of itself");b!==null&&this._strictGetNode(b);this._children[this._parents[a]].remove(a);this._parents[a]=b;this._children[b].add(a)};b.prototype.children=function(a){a!==null&&this._strictGetNode(a);return this._children[a].keys()};b.prototype.addNode=function(b,c){b=a.prototype.addNode.call(this,b,c);this._parents[b]=null;this._children[b]=new d;this._children[null].add(b);return b};b.prototype.delNode=function(b){var c=this.parent(b);this._children[b].keys().forEach(function(a){this.parent(a,c)},this);this._children[c].remove(b);delete this._parents[b];delete this._children[b];return a.prototype.delNode.call(this,b)};return b}var d=a("./data/Set");b.exports=e},{"./data/Set":19}],18:[function(a,b,c){function d(){this._arr=[];this._keyIndices={}}b.exports=d;d.prototype.size=function(){return this._arr.length};d.prototype.keys=function(){return this._arr.map(function(a){return a.key})};d.prototype.has=function(a){return a in this._keyIndices};d.prototype.priority=function(a){var b=this._keyIndices[a];if(b!==undefined)return this._arr[b].priority};d.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};d.prototype.add=function(a,b){if(a in this._keyIndices)return!1;var c={key:a,priority:b},d=this._arr.length;this._keyIndices[a]=d;this._arr.push(c);this._decrease(d);return!0};d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();delete this._keyIndices[a.key];this._heapify(0);return a.key};d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b;this._decrease(c)};d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;if(c<b.length){e=b[c].priority<b[e].priority?c:e;d<b.length&&(e=b[d].priority<b[e].priority?d:e);if(e!==a){this._swap(a,e);this._heapify(e)}}};d.prototype._decrease=function(a){var b=this._arr,c=b[a].priority,d;while(a>0){d=a>>1;if(b[d].priority<c)break;this._swap(a,d);a=d}};d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a];c[a]=c[b];c[b]=e;d[c[a].key]=a;d[c[b].key]=b}},{}],19:[function(a,b,c){function e(a){this._size=0;this._keys={};a&&a.forEach(function(a){this.add(a)},this)}var d=a("../util");b.exports=e;e.intersectAll=function(a){if(a.length===0)return new e;var b=new e(a[0].keys());a.forEach(function(a){b=b.intersect(a)});return b};e.unionAll=function(a){var b=new e;a.forEach(function(a){b=b.union(a)});return b};e.prototype.size=function(){return this._size};e.prototype.keys=function(){return d.values(this._keys)};e.prototype.has=function(a){return a in this._keys};e.prototype.add=function(a){if(a in this._keys)return!1;this._keys[a]=a;++this._size;return!0};e.prototype.remove=function(a){if(a in this._keys){delete this._keys[a];--this._size;return!0}return!1};e.prototype.intersect=function(a){a instanceof e||(a=new e(a));var b=new e;this.keys().forEach(function(c){a.has(c)&&b.add(c)});return b};e.prototype.union=function(a){a instanceof e||(a=new e(a));var b=new e(this.keys());a.keys().forEach(function(a){b.add(a)});return b}},{"../util":22}],20:[function(a,b,c){var d=a("./data/Set");c.all=function(){return function(){return!0}};c.nodesFromList=function(a){var b=new d(a);return function(a){return b.has(a)}}},{"./data/Set":19}],21:[function(a,b,c){var d=a("./Graph"),e=a("./Digraph");d.prototype.toDigraph=d.prototype.asDirected=function(){var a=new e;this.eachNode(function(b,c){a.addNode(b,c)});this.eachEdge(function(b,c,d,e){a.addEdge(null,c,d,e);a.addEdge(null,d,c,e)});return a};e.prototype.toGraph=e.prototype.asUndirected=function(){var a=new d;this.eachNode(function(b,c){a.addNode(b,c)});this.eachEdge(function(b,c,d,e){a.addEdge(b,c,d,e)});return a}},{"./Digraph":6,"./Graph":7}],22:[function(a,b,c){c.values=function(a){return Object.keys(a).map(function(b){return a[b]})}},{}],23:[function(a,b,c){b.exports="0.5.3"},{}]},{},[1]);