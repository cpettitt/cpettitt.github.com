(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var j=typeof require=="function"&&require;if(!h&&j)return j(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,c){var d=self;d.graphlib=a("./index")},{"./index":2}],2:[function(a,b,c){c.Digraph=a("./lib/Digraph");c.Graph=a("./lib/Graph");c.alg={isAcyclic:a("./lib/alg/isAcyclic"),dijkstra:a("./lib/alg/dijkstra"),dijkstraAll:a("./lib/alg/dijkstraAll"),findCycles:a("./lib/alg/findCycles"),tarjan:a("./lib/alg/tarjan"),topsort:a("./lib/alg/topsort")};c.data={PriorityQueue:a("./lib/data/PriorityQueue"),Set:a("./lib/data/Set")};c.version=a("./lib/version")},{"./lib/Digraph":3,"./lib/Graph":4,"./lib/alg/dijkstra":5,"./lib/alg/dijkstraAll":6,"./lib/alg/findCycles":7,"./lib/alg/isAcyclic":8,"./lib/alg/tarjan":9,"./lib/alg/topsort":10,"./lib/data/PriorityQueue":11,"./lib/data/Set":12,"./lib/version":14}],3:[function(a,b,c){function f(){this._value=undefined;this._nodes={};this._inEdges={};this._outEdges={};this._edges={};this._nextEdgeId=0}function g(a,b,c){(a[b]||(a[b]=new e)).add(c)}function h(a,b,c){var d=a[b];d.remove(c);d.size()===0&&delete a[b]}var d=a("./util"),e=a("./data/Set");b.exports=f;f.prototype.subgraph=function(a){var b=new f,c=this;a.forEach(function(a){b.addNode(a,c.node(a))});d.values(this._edges).forEach(function(a){b.hasNode(a.source)&&b.hasNode(a.target)&&b.addEdge(a.id,a.source,a.target,c.edge(a.id))});return b};f.prototype.order=function(){return Object.keys(this._nodes).length};f.prototype.size=function(){return Object.keys(this._edges).length};f.prototype.graph=function(a){if(arguments.length===0)return this._value;this._value=a};f.prototype.hasNode=function(a){return a in this._nodes};f.prototype.node=function(a,b){var c=this._strictGetNode(a);if(arguments.length===1)return c.value;c.value=b};f.prototype.nodes=function(){var a=[];this.eachNode(function(b){a.push(b)});return a};f.prototype.eachNode=function(a){for(var b in this._nodes){var c=this._nodes[b];a(c.id,c.value)}};f.prototype.successors=function(a){this._strictGetNode(a);return Object.keys(this._outEdges[a]).map(function(a){return this._nodes[a].id},this)};f.prototype.predecessors=function(a){this._strictGetNode(a);return Object.keys(this._inEdges[a]).map(function(a){return this._nodes[a].id},this)};f.prototype.neighbors=function(a){return e.unionAll([this.successors(a),this.predecessors(a)]).keys()};f.prototype.sources=function(){var a=this;return this._filterNodes(function(b){return a.inEdges(b).length===0})};f.prototype.sinks=function(){var a=this;return this._filterNodes(function(b){return a.outEdges(b).length===0})};f.prototype.hasEdge=function(a){return a in this._edges};f.prototype.edge=function(a,b){var c=this._strictGetEdge(a);if(arguments.length===1)return c.value;c.value=b};f.prototype.edges=function(){if(arguments.length===1)throw new Error("Digraph.edges() cannot be called with 1 argument. Use Digraph.incidentEdges() instead.");if(arguments.length>1)throw new Error("Digraph.edges() cannot be called with more than 1 argument. Use Digraph.outEdges() instead.");var a=[];this.eachEdge(function(b){a.push(b)});return a};f.prototype.eachEdge=function(a){for(var b in this._edges){var c=this._edges[b];a(c.id,c.source,c.target,c.value)}};f.prototype.source=function(a){return this._strictGetEdge(a).source};f.prototype.target=function(a){return this._strictGetEdge(a).target};f.prototype.incidentNodes=function(a){var b=this._strictGetEdge(a);return[b.source,b.target]};f.prototype.inEdges=function(a,b){this._strictGetNode(a);var c=e.unionAll(d.values(this._inEdges[a])).keys();if(arguments.length>1){this._strictGetNode(b);c=c.filter(function(a){return this.source(a)===b},this)}return c};f.prototype.outEdges=function(a,b){this._strictGetNode(a);var c=e.unionAll(d.values(this._outEdges[a])).keys();if(arguments.length>1){this._strictGetNode(b);c=c.filter(function(a){return this.target(a)===b},this)}return c};f.prototype.incidentEdges=function(a,b){return arguments.length>1?e.unionAll([this.outEdges(a,b),this.outEdges(b,a)]).keys():e.unionAll([this.inEdges(a),this.outEdges(a)]).keys()};f.prototype.equals=function(a){var b=this;return b.order()===a.order()&&b.size()===a.size()&&d.all(b.nodes(),function(c){return a.hasNode(c)&&b.node(c)===a.node(c)})&&d.all(b.edges(),function(c){return a.hasEdge(c)&&b.edge(c)===a.edge(c)})};f.prototype.toString=function(){var a=this,b="Digraph: "+JSON.stringify(a._value)+"\n";b+="    Nodes:\n";Object.keys(this._nodes).forEach(function(c){b+="        "+c+": "+JSON.stringify(a._nodes[c].value)+"\n"});b+="    Edges:\n";Object.keys(this._edges).forEach(function(c){var d=a._edges[c];b+="        "+c+" ("+d.source+" -> "+d.target+"): "+JSON.stringify(d.value)+"\n"});return b};f.prototype.addNode=function(a,b){if(this.hasNode(a))throw new Error("Graph already has node '"+a+"':\n"+this.toString());this._nodes[a]={id:a,value:b};this._inEdges[a]={};this._outEdges[a]={}};f.prototype.delNode=function(a){this._strictGetNode(a);var b=this;this.incidentEdges(a).forEach(function(a){b.delEdge(a)});delete this._inEdges[a];delete this._outEdges[a];delete this._nodes[a]};f.prototype.addEdge=function(a,b,c,d){this._strictGetNode(b);this._strictGetNode(c);if(a===null)a="_ANON-"+ ++this._nextEdgeId;else if(this.hasEdge(a))throw new Error("Graph already has edge '"+a+"':\n"+this.toString());this._edges[a]={id:a,source:b,target:c,value:d};g(this._inEdges[c],b,a);g(this._outEdges[b],c,a)};f.prototype.delEdge=function(a){var b=this._strictGetEdge(a);h(this._inEdges[b.target],b.source,a);h(this._outEdges[b.source],b.target,a);delete this._edges[a]};f.prototype._strictGetNode=function(a){var b=this._nodes[a];if(b===undefined)throw new Error("Node '"+a+"' is not in graph:\n"+this.toString());return b};f.prototype._strictGetEdge=function(a){var b=this._edges[a];if(b===undefined)throw new Error("Edge '"+a+"' is not in graph:\n"+this.toString());return b};f.prototype._filterNodes=function(a){var b=[];this.eachNode(function(c){a(c)&&b.push(c)});return b}},{"./data/Set":12,"./util":13}],4:[function(a,b,c){function f(){this._value=undefined;this._nodes={};this._incidentEdges={};this._edges={};this._nextEdgeId=0}function g(a,b,c){(a[b]||(a[b]=new e)).add(c)}function h(a,b,c){var d=a[b];d.remove(c);d.size()===0&&delete a[b]}var d=a("./util"),e=a("./data/Set");b.exports=f;f.prototype.subgraph=function(a){var b=new f;a.forEach(function(a){b.addNode(a,this.node(a))},this);this.eachEdge(function(a,c,d,e){b.hasNode(c)&&b.hasNode(d)&&b.addEdge(a,c,d,e)});return b};f.prototype.order=function(){return Object.keys(this._nodes).length};f.prototype.size=function(){return Object.keys(this._edges).length};f.prototype.graph=function(a){if(arguments.length===0)return this._value;this._value=a};f.prototype.hasNode=function(a){return a in this._nodes};f.prototype.node=function(a,b){var c=this._strictGetNode(a);if(arguments.length===1)return c.value;c.value=b};f.prototype.nodes=function(){var a=[];this.eachNode(function(b){a.push(b)});return a};f.prototype.eachNode=function(a){for(var b in this._nodes){var c=this._nodes[b];a(c.id,c.value)}};f.prototype.neighbors=function(a){this._strictGetNode(a);return Object.keys(this._incidentEdges[a]).map(function(a){return this._nodes[a].id},this)};f.prototype.hasEdge=function(a){return a in this._edges};f.prototype.edge=function(a,b){var c=this._strictGetEdge(a);if(arguments.length===1)return c.value;c.value=b};f.prototype.edges=function(){var a=[];this.eachEdge(function(b){a.push(b)});return a};f.prototype.eachEdge=function(a){for(var b in this._edges){var c=this._edges[b];a(c.id,c.u,c.v,c.value)}};f.prototype.incidentNodes=function(a){var b=this._strictGetEdge(a);return[b.u,b.v]};f.prototype.incidentEdges=function(a,b){this._strictGetNode(a);if(arguments.length>1){this._strictGetNode(b);return b in this._incidentEdges[a]?this._incidentEdges[a][b].keys():[]}return e.unionAll(d.values(this._incidentEdges[a])).keys()};f.prototype.equals=function(a){var b=this;return b.order()===a.order()&&b.size()===a.size()&&d.all(b.nodes(),function(c){return a.hasNode(c)&&b.node(c)===a.node(c)})&&d.all(b.edges(),function(c){return a.hasEdge(c)&&b.edge(c)===a.edge(c)})};f.prototype.toString=function(){var a=this,b="Graph: "+JSON.stringify(a._value)+"\n";b+="    Nodes:\n";Object.keys(this._nodes).forEach(function(c){b+="        "+c+": "+JSON.stringify(a._nodes[c].value)+"\n"});b+="    Edges:\n";Object.keys(this._edges).forEach(function(c){var d=a._edges[c];b+="        "+c+" ("+d.u+" -- "+d.v+"): "+JSON.stringify(d.value)+"\n"});return b};f.prototype.addNode=function(a,b){if(this.hasNode(a))throw new Error("Graph already has node '"+a+"':\n"+this.toString());this._nodes[a]={id:a,value:b};this._incidentEdges[a]={}};f.prototype.delNode=function(a){this._strictGetNode(a);var b=this;this.incidentEdges(a).forEach(function(a){b.delEdge(a)});delete this._nodes[a];delete this._incidentEdges[a]};f.prototype.addEdge=function(a,b,c,d){this._strictGetNode(b);this._strictGetNode(c);if(a===null)a="_ANON-"+ ++this._nextEdgeId;else if(this.hasEdge(a))throw new Error("Graph already has edge '"+a+"':\n"+this.toString());this._edges[a]={id:a,u:b,v:c,value:d};g(this._incidentEdges[b],c,a);g(this._incidentEdges[c],b,a)};f.prototype.delEdge=function(a){var b=this._strictGetEdge(a);h(this._incidentEdges[b.u],b.v,a);h(this._incidentEdges[b.v],b.u,a);delete this._edges[a]};f.prototype._strictGetNode=function(a){var b=this._nodes[a];if(b===undefined)throw new Error("Node '"+a+"' is not in graph:\n"+this.toString());return b};f.prototype._strictGetEdge=function(a){var b=this._edges[a];if(b===undefined)throw new Error("Edge '"+a+"' is not in graph:\n"+this.toString());return b}},{"./data/Set":12,"./util":13}],5:[function(a,b,c){function f(a,b,c,f){var g={},h=new d;c=c||function(){return 1};f=f||(a instanceof e?function(b){return a.outEdges(b)}:function(b){return a.incidentEdges(b)});a.nodes().forEach(function(a){var c=a===b?0:Number.POSITIVE_INFINITY;g[a]={distance:c};h.add(a,c)});var i,j;while(h.size()>0){i=h.removeMin();j=g[i];if(j.distance===Number.POSITIVE_INFINITY)break;f(i).forEach(function(b){var d=a.incidentNodes(b),e=d[0]!==i?d[0]:d[1],f=g[e],k=c(b),l=j.distance+k;if(k<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+k);if(l<f.distance){f.distance=l;f.predecessor=i;h.decrease(e,l)}})}return g}var d=a("../data/PriorityQueue"),e=a("../Digraph");b.exports=f},{"../Digraph":3,"../data/PriorityQueue":11}],6:[function(a,b,c){function e(a,b,c){var e={};a.nodes().forEach(function(f){e[f]=d(a,f,b,c)});return e}var d=a("./dijkstra");b.exports=e},{"./dijkstra":5}],7:[function(a,b,c){function e(a){return d(a).filter(function(a){return a.length>1})}var d=a("./tarjan");b.exports=e},{"./tarjan":9}],8:[function(a,b,c){function e(a){try{d(a)}catch(b){if(b instanceof d.CycleException)return!1;throw b}return!0}var d=a("./topsort");b.exports=e},{"./topsort":10}],9:[function(a,b,c){function e(a){function g(d){var h=e[d]={onStack:!0,lowlink:b,index:b++};c.push(d);a.successors(d).forEach(function(a){if(a in e)e[a].onStack&&(h.lowlink=Math.min(h.lowlink,e[a].index));else{g(a);h.lowlink=Math.min(h.lowlink,e[a].lowlink)}});if(h.lowlink===h.index){var i=[],j;do{j=c.pop();e[j].onStack=!1;i.push(j)}while(d!==j);f.push(i)}}if(a instanceof d){var b=0,c=[],e={},f=[];a.nodes().forEach(function(a){a in e||g(a)});return f}throw new Error("tarjan can only be applied to a Digraph. Bad input: "+a)}var d=a("../Digraph");b.exports=e},{"../Digraph":3}],10:[function(a,b,c){function e(a){function g(d){if(d in c)throw new f;if(!(d in b)){c[d]=!0;b[d]=!0;a.predecessors(d).forEach(function(a){g(a)});delete c[d];e.push(d)}}if(a instanceof d){var b={},c={},e=[],h=a.sinks();if(a.order()!==0&&h.length===0)throw new f;a.sinks().forEach(function(a){g(a)});return e}throw new Error("topsort can only be applied to a Digraph. Bad input: "+a)}function f(){}var d=a("../Digraph");b.exports=e;e.CycleException=f;f.prototype.toString=function(){return"Graph has at least one cycle"}},{"../Digraph":3}],11:[function(a,b,c){function d(){this._arr=[];this._keyIndices={}}b.exports=d;d.prototype.size=function(){return this._arr.length};d.prototype.keys=function(){return this._arr.map(function(a){return a.key})};d.prototype.has=function(a){return a in this._keyIndices};d.prototype.priority=function(a){var b=this._keyIndices[a];if(b!==undefined)return this._arr[b].priority};d.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};d.prototype.add=function(a,b){if(a in this._keyIndices)return!1;var c={key:a,priority:b},d=this._arr.length;this._keyIndices[a]=d;this._arr.push(c);this._decrease(d);return!0};d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();delete this._keyIndices[a.key];this._heapify(0);return a.key};d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b;this._decrease(c)};d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;if(c<b.length){e=b[c].priority<b[e].priority?c:e;d<b.length&&(e=b[d].priority<b[e].priority?d:e);if(e!==a){this._swap(a,e);this._heapify(e)}}};d.prototype._decrease=function(a){var b=this._arr,c=b[a].priority,d;while(a>0){d=a>>1;if(b[d].priority<c)break;this._swap(a,d);a=d}};d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a];c[a]=c[b];c[b]=e;d[c[a].key]=a;d[c[b].key]=b}},{}],12:[function(a,b,c){function e(a){this._size=0;this._keys={};a&&a.forEach(function(a){this.add(a)},this)}var d=a("../util");b.exports=e;e.intersectAll=function(a){if(a.length===0)return new e;var b=new e(a[0].keys());a.forEach(function(a){b=b.intersect(a)});return b};e.unionAll=function(a){var b=new e;a.forEach(function(a){b=b.union(a)});return b};e.prototype.size=function(){return this._size};e.prototype.keys=function(){return d.values(this._keys)};e.prototype.has=function(a){return a in this._keys};e.prototype.add=function(a){if(a in this._keys)return!1;this._keys[a]=a;++this._size;return!0};e.prototype.remove=function(a){if(a in this._keys){delete this._keys[a];--this._size;return!0}return!1};e.prototype.intersect=function(a){a instanceof e||(a=new e(a));var b=new e;this.keys().forEach(function(c){a.has(c)&&b.add(c)});return b};e.prototype.union=function(a){a instanceof e||(a=new e(a));var b=new e(this.keys());a.keys().forEach(function(a){b.add(a)});return b}},{"../util":13}],13:[function(a,b,c){c.all=function(a,b){for(var c=0;c<a.length;++c)if(!b(a[c]))return!1;return!0};c.values=function(a){return Object.keys(a).map(function(b){return a[b]})}},{}],14:[function(a,b,c){b.exports="0.2.0"},{}]},{},[1]);